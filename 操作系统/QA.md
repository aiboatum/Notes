## 库函数和系统调用？

库函数有些需要进入内核态，有些不需要。

## 系统调用和函数调用？

系统调用也是一种函数调用，即也需要相关参数，然后通过中断方式。如 `INT` 指令。

## 广义指令？

广义指令即系统调用。通过陷入指令可以进行系统调用。

执行广义指令需要在内核态。

## 访管指令？

用户程序资源进入管态的指令。

## 陷入指令？

原则上可以看作访管指令。访管指令本质上就是一条陷入（中断）指令。


## 内部碎片和外部碎片

1. 内部碎片，即已经分配给进程（或程序），但却不能被利用的内存空间。
    - 单道（单一）连续分配一定有内部碎片，无外部碎片。因为每次内存都只分给单一的程序（任务），往往空闲的内存空间较多，空间利用率极低。
    - 固定分区分配，某个分区分配给一个程序，也会产生内部碎片。
2. 外部碎片：指那些还没有分配出去，但由于太小无法分配给新进程的空闲区域。
   - 多道可变分区分配只有外部碎片，无内部碎片。
  
> https://blog.csdn.net/haiross/article/details/38704945

## 操作系统：文件控制权限的题目

某文件系统中，针对每个文件，用户类别分为4类：安全管理员、文件主、文件主的伙伴、其他用户；访问权限分为5种：完全控制、执行、修改、读取、写入。若文件控制块中用二进制位串表示文件权限，为表示不同类别用户对一个文件的访问权限，则描述文件权限的位数至少应为？

很容易想到 5 比特就可以表示 32 种状态，为什么文件权限的位数是 20，而不是 5？

每个用户拥有的权限都是独立且互斥的，比如可能同时有修改和读取两种，必须用 1 比特表示一种权限。

在 Linux 系统中，

- 有 `user`，`group`，和 `other` 三类用户
- 有 `r,w,x` 三种权限

对于一个文件权限，可以表示为 `rwxrw_r__`，前三个字符表示用户对该文件可读可写可执行，中间三个字符表示用户组对该文件可读可写但不可执行，最后三个字符表示其他文件对该文件只读。