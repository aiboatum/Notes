# 概述

> 本文主要为"现代操作系统"的读后笔记。

## 操作系统是什么？

一个中间层，用户（用户程序）和计算机硬件资源的中间层。

## 通过什么交互？

GUI 或 Shell 等用户接口程序。 

> Shell是什么： [Shell 是用来解决什么问题的？ - Bryan Yuan的回答 - 知乎](https://www.zhihu.com/question/35382632/answer/65331452)


## 操作系统基本特征

### 并发和并行

1. 并行是同时进行
2. 并发是宏观上的并行

### 共享

资源可以被多个并发进程共同使用：
- 互斥共享
- 同时共享

### 虚拟

一个物理实体抽象为多个逻辑实体。

复用技术：时间复用、空间复用

### 异步


## 系统调用
内核提供了一系列的系统调用就是用户程序可见的操作系统接口，如

|系统调用|描述|
|:-|:-|
|fork()|创建进程|
|exit()	|结束当前进程
|wait()|	等待子进程结束
|kill(pid)|	结束 pid 所指进程
|getpid()|	获得当前进程 pid
|sleep(n)|	睡眠 n 秒
|exec(filename, *argv)|	加载并执行一个文件
|sbrk(n)	|为进程内存空间增加 n 字节
|open(filename, flags)|	打开文件，flags 指定读/写模式
|read(fd, buf, n)|	从文件中读 n 个字节到 buf
|write(fd, buf, n)|	从 buf 中写 n 个字节到文件
|close(fd)	|关闭打开的 fd
|dup(fd)	|复制 fd
|pipe( p)	|创建管道， 并把读和写的 fd 返回到p
|chdir(dirname)	|改变当前目录
|mkdir(dirname)	|创建新的目录
|mknod(name, major, minor)|	创建设备文件
|fstat(fd)|	返回文件信息
|link(f1, f2)|	给 f1 创建一个新名字(f2)
|unlink(filename)|	删除文件

### 内核态、用户态

内核态也称为管态和核心态。操作系统在**内核态**运行，可以访问整个硬件资源；用户程序只可在**用户态**下运行，只允许访问某些指令集。

用户程序通过**系统调用**进入内核态并调用操作系统。

![](image/1.png)

## 操作系统主要负责？

1. 进程管理
2. 文件管理
3. 内存管理
4. 设备管理
5. 系统调用

## 操作系统和 BIOS 

启动计算机（按下电脑开关键），先启动 BIOS 程序，BIOS 会做一些检查，然后加载操作系统到内存中，启动操作系统。

## 地址空间 

虚拟内存技术相关。

## 中断

### 外中断

外部事件引发，最常见的 IO 中断、时钟中断。

### 异常中断

内部发生异常引起，如数组越界、算术溢出等等

### 陷入

系统调用引起的。
